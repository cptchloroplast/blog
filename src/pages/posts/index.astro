---
import BaseLayout from "../../layouts/BaseLayout.astro"
import Card from "../../components/Card.astro"

const posts = Astro.fetchContent<Post>("./*.md").sort((a,b) => (a.published > b.published) ? 1 : 1)
---
<BaseLayout title="Posts">
  <Card>
    <h1>Table of Contents</h1>
    <h4>The following is not representative of the views of our corporate overlords.</h4>
    <hr>
    <ol>
    {posts.map(post => (
      <li>
        <a href={post.url}>
          <span>{post.title}</span>
          <small>{new Date(post.published).toISOString().split("T")[0]}</small>
        </a>
      </li>
    ))}
    </ol>
  </Card>
</BaseLayout>

<style>
  ol {
    margin: 0;
    padding-left: 0;
  }

  li {
    list-style: none;
    line-height: 1.5;
  }

  a {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  h1 {
    margin: 0;
    margin-bottom: 5px;
  }

  h4 {
    margin: 0;
  }
</style>