---
import { PostLayout, PhotoLayout } from "@layouts"
import { PostService } from "@services"

const service = PostService(Astro.locals.runtime.env.DB)
const post = await service.getLatest()
if (!post) return Astro.redirect("/404")
const Layout = post.type === "post" ? PostLayout : PhotoLayout
---
<PostLayout post={post} />
