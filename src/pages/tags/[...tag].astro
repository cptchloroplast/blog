---
import { PostList } from "@components"
import { Card, Title, Subtitle } from "@components/ui"
import { PublicLayout } from "@layouts"
import { PostService } from "@services"

const { tag } = Astro.params
const service = PostService(Astro.locals.runtime.env.DB)
const posts = await service.listByTag(tag!)
---
<PublicLayout title={`Tags - ${tag}`}>
  <Card>
    <Title>{tag}</Title>
    <Subtitle>Check out some related posts.</Subtitle>
    <hr>
    <PostList posts={posts} />
  </Card>
</PublicLayout>